{
  "hash": "2809e6b68c3ba8f5830b127851c6e05f",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Dataset-1: Do Women live longer?\"\nauthor: \"Aish\"\n---\n\n\n\n# Do Women live Longer?\n\nI don't know yet. If yes, then good for me I suppose :)\n\nLet's find out.\n\nFirst, we gotta set up our document with relevant packages.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(mosaic)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRegistered S3 method overwritten by 'mosaic':\n  method                           from   \n  fortify.SpatialPolygonsDataFrame ggplot2\n\nThe 'mosaic' package masks several functions from core packages in order to add \nadditional features.  The original behavior of these functions should not be affected by this.\n\nAttaching package: 'mosaic'\n\nThe following object is masked from 'package:Matrix':\n\n    mean\n\nThe following objects are masked from 'package:dplyr':\n\n    count, do, tally\n\nThe following object is masked from 'package:purrr':\n\n    cross\n\nThe following object is masked from 'package:ggplot2':\n\n    stat\n\nThe following objects are masked from 'package:stats':\n\n    binom.test, cor, cor.test, cov, fivenum, IQR, median, prop.test,\n    quantile, sd, t.test, var\n\nThe following objects are masked from 'package:base':\n\n    max, mean, min, prod, range, sample, sum\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(skimr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'skimr'\n\nThe following object is masked from 'package:mosaic':\n\n    n_missing\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggformula)\n```\n:::\n\n\n\nNow, let's import the dataset.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwomen <- read_delim(file = \"../../data/women.csv\",delim =\";\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 18408 Columns: 7\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \";\"\nchr (3): Entity, Code, Continent\ndbl (2): Year, Population - Sex: all - Age: all - Variant: estimates\nnum (2): Life expectancy - Sex: female - Age: at birth - Variant: estimates,...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(women)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 18,408\nColumns: 7\n$ Entity                                                               <chr> \"…\n$ Code                                                                 <chr> \"…\n$ Year                                                                 <dbl> 2…\n$ `Life expectancy - Sex: female - Age: at birth - Variant: estimates` <dbl> N…\n$ `Life expectancy - Sex: male - Age: at birth - Variant: estimates`   <dbl> N…\n$ `Population - Sex: all - Age: all - Variant: estimates`              <dbl> N…\n$ Continent                                                            <chr> \"…\n```\n\n\n:::\n\n```{.r .cell-code}\nview(women)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nskim(women)\n```\n\n::: {.cell-output-display}\n\nTable: Data summary\n\n|                         |      |\n|:------------------------|:-----|\n|Name                     |women |\n|Number of rows           |18408 |\n|Number of columns        |7     |\n|_______________________  |      |\n|Column type frequency:   |      |\n|character                |3     |\n|numeric                  |4     |\n|________________________ |      |\n|Group variables          |None  |\n\n\n**Variable type: character**\n\n|skim_variable | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:-------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|Entity        |         0|          1.00|   4|  59|     0|      303|          0|\n|Code          |      1224|          0.93|   3|   8|     0|      286|          0|\n|Continent     |     18123|          0.02|   4|  13|     0|        7|          0|\n\n\n**Variable type: numeric**\n\n|skim_variable                                                      | n_missing| complete_rate|         mean|           sd|   p0|      p25|     p50|      p75|       p100|hist  |\n|:------------------------------------------------------------------|---------:|-------------:|------------:|------------:|----:|--------:|-------:|--------:|----------:|:-----|\n|Year                                                               |         0|          1.00|      1985.58|        20.81| 1950|   1968.0|    1986|     2004|       2021|▇▇▇▇▇ |\n|Life expectancy - Sex: female - Age: at birth - Variant: estimates |        48|          1.00|       659.67|       125.11|  127|    574.0|     689|      757|        887|▁▁▅▇▇ |\n|Life expectancy - Sex: male - Age: at birth - Variant: estimates   |        48|          1.00|       610.25|       115.53|  101|    534.0|     634|      697|        848|▁▁▃▇▅ |\n|Population - Sex: all - Age: all - Variant: estimates              |       120|          0.99| 126470436.62| 588851230.77| 1363| 291591.5| 3833998| 16785464| 7909295000|▇▁▁▁▁ |\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ninspect(women)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\ncategorical variables:  \n       name     class levels     n missing\n1    Entity character    303 18408       0\n2      Code character    286 17184    1224\n3 Continent character      7   285   18123\n                                   distribution\n1 Afghanistan (0.4%) ...                       \n2 ABW (0.4%), AFG (0.4%), AGO (0.4%) ...       \n3 Europe (26.3%), Asia (21.8%) ...             \n\nquantitative variables:  \n                                                                name   class\n1                                                               Year numeric\n2 Life expectancy - Sex: female - Age: at birth - Variant: estimates numeric\n3   Life expectancy - Sex: male - Age: at birth - Variant: estimates numeric\n4              Population - Sex: all - Age: all - Variant: estimates numeric\n   min       Q1  median       Q3        max         mean           sd     n\n1 1950   1968.0    1986     2004       2021 1.985577e+03 2.081051e+01 18408\n2  127    574.0     689      757        887 6.596735e+02 1.251064e+02 18360\n3  101    534.0     634      697        848 6.102504e+02 1.155310e+02 18360\n4 1363 291591.5 3833998 16785464 7909295000 1.264704e+08 5.888512e+08 18288\n  missing\n1       0\n2      48\n3      48\n4     120\n```\n\n\n:::\n:::\n\n\n\n## Data Dictionary\n\n### Qualitative Variables\n\n-   ***Entity (chr):*** Name of the country.\n\n-   ***Code (chr):*** code of the entity.\n\n-   ***year (chr):*** year of entry.\n\n-   ***Continent (chr):*** continents from which the entries belong (fct).\n\n### Quantitative Variables\n\n-   ***LifeExpFemale (dbl):*** life expectancy of females of the respective country.\n\n-   ***LifeExpMale (dbl):*** life expectancy of males of the respective country.\n\n-   ***Population (dbl):*** Population of the country.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwomen_modified <- women %>% \n  filter(Year == 2015)\nglimpse(women_modified)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 303\nColumns: 7\n$ Entity                                                               <chr> \"…\n$ Code                                                                 <chr> \"…\n$ Year                                                                 <dbl> 2…\n$ `Life expectancy - Sex: female - Age: at birth - Variant: estimates` <dbl> N…\n$ `Life expectancy - Sex: male - Age: at birth - Variant: estimates`   <dbl> N…\n$ `Population - Sex: all - Age: all - Variant: estimates`              <dbl> N…\n$ Continent                                                            <chr> \"…\n```\n\n\n:::\n:::\n\n\n\nSo, the reason why I have filtered out the data on the basis on year 2015 is so that I can replicate the table in Arvind's website. I suppose, it has been done also because it is easier to analyse such context while keeping the year constant. Why? I think it is so because there are other vital factors ( like pollution index, poverty index, cultural and 'current' affairs etc.) that play a crucial role in determining the life expectancy, and they tend to change overtime.\n\nNow, I will drop the missing values.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwomen_modified <- women_modified %>% drop_na()\n\nglimpse(women_modified)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 236\nColumns: 7\n$ Entity                                                               <chr> \"…\n$ Code                                                                 <chr> \"…\n$ Year                                                                 <dbl> 2…\n$ `Life expectancy - Sex: female - Age: at birth - Variant: estimates` <dbl> 6…\n$ `Life expectancy - Sex: male - Age: at birth - Variant: estimates`   <dbl> 6…\n$ `Population - Sex: all - Age: all - Variant: estimates`              <dbl> 3…\n$ Continent                                                            <chr> \"…\n```\n\n\n:::\n:::\n\n\n\nNow, we shall do some renaming and mutating to make our lives easier.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwomen_modified <- women_modified %>% \n  mutate(\n    life_exp_female = `Life expectancy - Sex: female - Age: at birth - Variant: estimates` / 10,\n    life_exp_male = `Life expectancy - Sex: male - Age: at birth - Variant: estimates` / 10,\n    Continent = as.factor(Continent)\n  )\n\nglimpse(women_modified)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 236\nColumns: 9\n$ Entity                                                               <chr> \"…\n$ Code                                                                 <chr> \"…\n$ Year                                                                 <dbl> 2…\n$ `Life expectancy - Sex: female - Age: at birth - Variant: estimates` <dbl> 6…\n$ `Life expectancy - Sex: male - Age: at birth - Variant: estimates`   <dbl> 6…\n$ `Population - Sex: all - Age: all - Variant: estimates`              <dbl> 3…\n$ Continent                                                            <fct> A…\n$ life_exp_female                                                      <dbl> 6…\n$ life_exp_male                                                        <dbl> 6…\n```\n\n\n:::\n:::\n\n\n\nHere we go!\n\nI shall now recreate the chart that is given on Arvind's website.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwomen_modified %>%\n  gf_point(life_exp_female ~ life_exp_male) %>%\n  gf_labs(\n    title = \"Scatter Plot\",\n    subtitle = \"Life expectancy across years\"\n  )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n\nThis is a scatter plot! It is depicting the correlation between life expectancy between males and females. I am unable to recreate the exact replica of the graph; I can't figure out how to. However, it seems like we can make do with this for the time being.\n\nWhen we look at this graph carefully, we see that almost all the points are placed such that for every point, **x ( male life expectancy) \\< y(female life expectancy)**.\n\nTo better understand what is going on, I will add a line to the graph.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwomen_modified %>%\n  gf_point(life_exp_female ~ life_exp_male) %>%\n  gf_lm() %>% \n  gf_labs(\n    title = \"Scatter Plot\",\n    subtitle = \"Life expectancy across years\"\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Using the `size` aesthetic with geom_line was deprecated in ggplot2 3.4.0.\nℹ Please use the `linewidth` aesthetic instead.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n\n#### Observations\n\nWe see that while it may appear that the slope (m) = 1, it is not true. When we look carefully, we see that vale on the x axis starts from 50 onwards, whereas it start from 60 onwards on y axis. Hence, m is not 1.\n\n**In the website's chart**, it is clearly seen that life expectancy for both the genders is more or less the **same in countries with bigger populations**.\n\n#### What does the dashed line in the chart represent?\n\nit represents slop of the graph when m = 1, meaning when there is a 1:1 correlation between both the variables. It is also called the *equality line*.\n\n### What pre-processing of the data was required to create the chart?\n\n-   Filtering by year\n\n-   dropping rows with missing data\n\n-   renaming and mutating data\n\n    -   I used mutate to both rename and mutate the data variables\n\n    -   renames the life expectancy variables and then divided them by 10 to get the exact age.\n\n    -   I converted 'continent' variable to factor as it had 7 levels. It seemed only fair to convert it to a factor.\n\n### What research activity might have been carried out to obtain the data graphed here? Provide some details.\n\nLife expectancy is calculated at different stages and ages. I do not think the researchers went around on the streets gathering data themselves, although that would've been fun. However, I believe this data might have been obtained through different sources over the years. For example, they would've contacted WHO and other trusted organizations to gather this data. Government websites, and hospitals from across the world would've been contacted for the same.\n\nIt is also possible that physical surveys were conducted by authorities, especially in smaller countries where it is probably not possible to find tidy data, and accessibility through digital mediums is not entirely possible.\n\n### What might be the Hypothesis / Research Question, based on the Chart?\n\n-   Which gender lives longer in a particular city?\n\n-   Do women live longer than men in countries with big populations?\n\n-   Women tend to live a longer and happier life, no matter where they are \\[Hypothesis\\].\n\n### Inference\n\nAcross most countries, women consistently live longer than men, with nearly all data points above the equality line. In Countries with bigger populations, life expectancy is mostly same between both the genders. **Despite being considered the weaker gender, women outlive the 'stronger' men**.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}